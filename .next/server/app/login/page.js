(()=>{var e={};e.id=626,e.ids=[626],e.modules={7096:e=>{"use strict";e.exports=require("bcrypt")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},6113:e=>{"use strict";e.exports=require("crypto")},7147:e=>{"use strict";e.exports=require("fs")},2254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},7261:e=>{"use strict";e.exports=require("node:util")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},9852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(8664),r(1506),r(5866);var a=r(3191),s=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8664)),"C:\\financial\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\financial\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\financial\\app\\login\\page.tsx"],u="/login/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8964:(e,t,r)=>{let a={a90a72ed8ab085e00166f3b5b412da200f3822e2:()=>Promise.resolve().then(r.bind(r,6539)).then(e=>e.authenticate)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={a90a72ed8ab085e00166f3b5b412da200f3822e2:s.bind(null,"a90a72ed8ab085e00166f3b5b412da200f3822e2")}},7285:()=>{},2510:(e,t,r)=>{Promise.resolve().then(r.bind(r,5341))},8825:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2114:(e,t,r)=>{"use strict";r.d(t,{YR:()=>s,aL:()=>n}),r(5424);var a=r(6242),s=(0,a.$)("a90a72ed8ab085e00166f3b5b412da200f3822e2");(0,a.$)("4f9be57e57b5b46845e17ad1227c51c3bf8af23d");var n=(0,a.$)("6ea4d363d946b56443342a9a25a2db27c34ce73c");(0,a.$)("9d82a1348621d8b5640d88a11c587d686a1571dd")},2574:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var a=r(326),s=r(1135);function n({children:e,className:t,...r}){return a.jsx("button",{...r,className:(0,s.Z)("flex h-10 items-center rounded-lg bg-blue-500 px-4 text-sm font-medium text-white transition-colors hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 aria-disabled:cursor-not-allowed aria-disabled:opacity-50",t),children:e})}},5341:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(326),s=r(5047),n=r(3074),i=r.n(n),o=r(7577);let l=o.forwardRef(function({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))}),d=o.forwardRef(function({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}),c=o.forwardRef(function({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}),u=o.forwardRef(function({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 0 1 .75-.75h10.638L10.23 5.29a.75.75 0 1 1 1.04-1.08l5.5 5.25a.75.75 0 0 1 0 1.08l-5.5 5.25a.75.75 0 1 1-1.04-1.08l4.158-3.96H3.75A.75.75 0 0 1 3 10Z",clipRule:"evenodd"}))});var m=r(2574),p=r(2114);function f(){let[e,t,r]=function(e){let[t,r]=(0,o.useState)(void 0),[a,s]=(0,o.useState)(!1);return[t,async t=>{t.preventDefault(),s(!0);try{let a=new FormData(t.currentTarget),s=await e(void 0,a);"string"==typeof s?r(s):r(void 0)}catch(e){r("An unexpected error occurred.")}finally{s(!1)}},a]}(p.YR),n=(0,s.useRouter)(),f=async r=>{if(r.preventDefault(),await t(r),!e){let e=new URL(window.location.href).searchParams.get("callbackUrl")||"/dashboard";n.push(e)}};return a.jsx("form",{onSubmit:f,className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex-1 rounded-lg bg-gray-50 px-6 pb-4 pt-8",children:[a.jsx("h1",{className:`${i().className} mb-3 text-2xl`,children:"Please log in to continue."}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"mb-3 mt-5 block text-xs font-medium text-gray-900",htmlFor:"email",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{className:"peer block w-full rounded-md border border-gray-200 py-[9px] pl-10 text-sm outline-2 placeholder:text-gray-500",id:"email",type:"email",name:"email",placeholder:"Enter your email address",required:!0}),a.jsx(l,{className:"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("label",{className:"mb-3 mt-5 block text-xs font-medium text-gray-900",htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{className:"peer block w-full rounded-md border border-gray-200 py-[9px] pl-10 text-sm outline-2 placeholder:text-gray-500",id:"password",type:"password",name:"password",placeholder:"Enter password",required:!0,minLength:6}),a.jsx(d,{className:"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900"})]})]})]}),(0,a.jsxs)(m.z,{className:"mt-4 w-full","aria-disabled":r,children:["Log in ",a.jsx(u,{className:"ml-auto h-5 w-5 text-gray-50"})]}),a.jsx("div",{className:"flex h-8 items-end space-x-1","aria-live":"polite","aria-atomic":"true",children:e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(c,{className:"h-5 w-5 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500",children:e})]})})]})})}},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(9510);r(5832);var s=r(8510),n=r.n(s);function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${n().className} antialiased`,children:e})})}},6539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{authenticate:()=>x,createInvoice:()=>m,deleteInvoice:()=>h,updateInvoice:()=>f});var a=r(7745);r(6461);var s=r(692),n=r(5098),i=r(7569),o=r(775),l=r(207),d=r(4739),c=r(5723);let u=s.z.object({id:s.z.string(),customerId:s.z.string(),amount:s.z.coerce.number(),status:s.z.enum(["pending","paid"]),date:s.z.string()}).omit({id:!0,date:!0});async function m(e){let{customerId:t,amount:r,status:a}=u.parse({customerId:e.get("customerId"),amount:e.get("amount"),status:e.get("status")}),s=new Date().toISOString().split("T")[0],n=`
    INSERT INTO invoices (customer_id, amount, status, date)
    VALUES ($1, $2, $3, $4)
    RETURNING *;
  `;try{let e=await (0,o.I)(n,[t,100*r,a,s]);return(0,l.revalidatePath)("/dashboard/invoices"),(0,d.redirect)("/dashboard/invoices"),e.rows[0]}catch(e){throw console.error("Error inserting invoice:",e),Error("Could not create the invoice.")}}let p=s.z.object({customerId:s.z.string(),amount:s.z.number(),status:s.z.enum(["pending","paid"])});async function f(e,t){let r={};t.forEach((e,t)=>{r[t]=e});let a=parseFloat(r.amount??"NaN"),{customerId:s,status:n}=p.parse({customerId:r.customerId,amount:isNaN(a)?0:a,status:r.status});await (0,o.I)(`
    UPDATE invoices
    SET customer_id = $1, amount = $2, status = $3
    WHERE id = $4
    `,[s,100*a,n,e]),(0,l.revalidatePath)("/dashboard/invoices"),(0,d.redirect)("/dashboard/invoices")}async function h(e){let t=`
    DELETE FROM invoices
    WHERE id = $1
  `;try{return await (0,o.I)(t,[e]),(0,l.revalidatePath)("/dashboard/invoices"),{message:"Deleted Invoice"}}catch(e){return console.error("Database Error:",e),{message:"Database Error: Failed to Delete Invoice."}}}async function x(e,t){if(!t)return"Form data is missing.";try{let e={};if(!(t instanceof FormData))return"Invalid form data.";t.forEach((t,r)=>{e[r]=t});let r=await (0,n.zB)("credentials",{redirect:!1,...e});if(r?.error)return r.error;return}catch(e){if(e instanceof i.l4){if("CredentialsSignin"===e.type)return"Invalid credentials.";return"Something went wrong."}throw e}}(0,c.h)([m,f,h,x]),(0,a.j)("4f9be57e57b5b46845e17ad1227c51c3bf8af23d",m),(0,a.j)("6ea4d363d946b56443342a9a25a2db27c34ce73c",f),(0,a.j)("9d82a1348621d8b5640d88a11c587d686a1571dd",h),(0,a.j)("a90a72ed8ab085e00166f3b5b412da200f3822e2",x)},775:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var a=r(5900),s=r(4128);r.n(s)().config();let n=new a.Pool({connectionString:process.env.POSTGRES_URL,ssl:{rejectUnauthorized:!1}});async function i(e,t){let r=await n.connect();try{return await r.query(e,t)}catch(e){throw console.error("Query Error:",e),e}finally{r.release()}}},8664:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(9510),s=r(3321);let n=(0,r(8570).createProxy)(String.raw`C:\financial\app\ui\login-form.tsx#default`);function i(){return a.jsx("main",{className:"flex items-center justify-center md:h-screen",children:(0,a.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[400px] flex-col space-y-2.5 p-4 md:-mt-32",children:[a.jsx("div",{className:"flex h-20 w-full items-end rounded-lg bg-blue-500 p-3 md:h-36",children:a.jsx("div",{className:"w-32 text-white md:w-36",children:a.jsx(s.Z,{})})}),a.jsx(n,{})]})})}},3321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(9510),s=r(1159);let n=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))});var i=r(1022),o=r.n(i);function l(){return(0,a.jsxs)("div",{className:`${o().className} flex flex-row items-center leading-none text-white`,children:[a.jsx(n,{className:"h-12 w-12 rotate-[15deg]"}),a.jsx("p",{className:"text-[44px]",children:"Acme"})]})}},5098:(e,t,r)=>{"use strict";r.d(t,{zB:()=>u,w7:()=>m});var a=r(7569),s=r(5259),n=r(692),i=r(7096),o=r.n(i),l=r(775);async function d(e){try{return(await (0,l.I)("SELECT * FROM users WHERE email = $1",[e])).rows[0]}catch(e){throw console.error("Failed to fetch user:",e),Error("Failed to fetch user.")}}let{auth:c,signIn:u,signOut:m}=(0,a.ZP)({pages:{signIn:"/login"},callbacks:{async authorized({auth:e,request:{nextUrl:t}}){let r=!!e?.user;return t.pathname.startsWith("/dashboard")?!!r||Response.redirect(new URL("/login",t)):!r||Response.redirect(new URL("/dashboard",t))}},providers:[],providers:[(0,s.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email",placeholder:"user@example.com"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return console.log("Missing email or password"),null;let t=n.z.object({email:n.z.string().email(),password:n.z.string().min(6)}).safeParse(e);if(!t.success)return console.log("Invalid input format",t.error),null;let{email:r,password:a}=t.data,s=await d(r);return s?await o().compare(a,s.password)?s:(console.log("Password does not match for user:",r),null):(console.log("No user found for email:",r),null)}})]})},5832:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,842,395,134],()=>r(9852));module.exports=a})();